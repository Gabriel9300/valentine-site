<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pour toi ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}

body{
  min-height:100vh;
  background:linear-gradient(135deg,#ffdde1,#ee9ca7);
  display:flex;
  justify-content:center;
  align-items:center
}

.container{
  background:#fff;
  width:90%;
  max-width:420px;
  padding:30px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.15);
  animation:fadeIn 1s ease
}

h1{font-size:1.4rem;margin-bottom:15px;color:#333}
p{font-size:.95rem;color:#555;margin-bottom:20px;line-height:1.6}

.gif{
  width:100%;
  max-width:260px;
  border-radius:15px;
  margin:15px auto 25px
}

.question{
  font-size:1.1rem;
  font-weight:600;
  margin-bottom:20px;
  color:#222
}

.buttons{
  display:flex;
  gap:15px
}

button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:12px;
  font-size:1rem;
  font-weight:600;
  cursor:pointer;
  transition:transform .25s ease, opacity .25s ease, box-shadow .25s ease
}

button:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 20px rgba(0,0,0,.15)
}

.yes{background:#ff4d6d;color:white}
.no{background:#f1f1f1;color:#555}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}
</style>
</head>

<body>
<div class="container">

  <h1>J‚Äôai quelque chose √† te demander‚Ä¶</h1>

  <p>
    Parfois les mots sont trop longs,  
    alors j‚Äôai pr√©f√©r√© te montrer ce que je ressens.
  </p>

  <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" class="gif">

  <div class="question">
    Veux-tu √™tre ma Valentine ? ‚ù§Ô∏è
  </div>

  <div class="buttons">
    <button class="yes" onclick="sendYes()">OUI ‚ù§Ô∏è</button>
    <button class="no" id="noBtn" onclick="handleNo()">NON üíî</button>
  </div>

</div>

<script>
// -------------------------
// ‚ö° Initialisation EmailJS
// -------------------------
(function(){
  try{ 
    emailjs.init("uAi5tcP4qWUNv7fGl"); // Public Key
  }catch(e){
    console.error("EmailJS init failed", e);
  }
})();

let noClicks = 0;

// -------------------------
// ‚ö° Fonction OUI
// -------------------------
function sendYes(){
  try{
    emailjs.send("service_pz3cmfv","template_9565r85",{ 
      reponse:"OUI ‚ù§Ô∏è",
      date:new Date().toLocaleString(),
      from_name:"elle",
      to_email:"xanogabriel@gmail.com"
    }).then(()=>{ console.log("R√©ponse OUI envoy√©e !"); })
      .catch(err=>{ console.error("Erreur envoi OUI", err); });
  }catch(e){console.error(e);}
  
  window.location.href = "oui.html";
}

// -------------------------
// ‚ö° Fonction NON
// -------------------------
function handleNo(){
  const btn = document.getElementById("noBtn");
  noClicks++;

  const scale = Math.max(0.2, 1 - noClicks * 0.08);
  btn.style.transform = `scale(${scale})`;
  btn.style.opacity = `${1 - noClicks * 0.07}`;

  if(noClicks >= 10){
    try{
      emailjs.send("service_pz3cmfv","template_9565r85",{ 
        reponse:"NON üíî",
        date:new Date().toLocaleString(),
        from_name:"elle",
        to_email:"xanogabriel@gmail.com"
      }).then(()=>{ console.log("R√©ponse NON envoy√©e !"); })
        .catch(err=>{ console.error("Erreur envoi NON", err); });
    }catch(e){console.error(e);}

    setTimeout(()=>{ window.location.href = "non.html"; }, 500);
  }
}
</script>

</body>
</html>
